{% extends 'base.html' %}

{% block content %}
{% load static %}
<head>
    <meta charset="UTF-8">

    <title>Create Game</title>
    
</head>


<script>
    var validateGameName = function () {

        var url = document.URL.split("create_game");

        $.post(url[0] + "find_duplicate_game/", {
            "name": document.getElementById("name").value
        }, function (response) {
            if (response.message.toUpperCase() !== "SUCCESS") {
                document.getElementById("errorMsg").innerHTML = response.message;
                document.getElementById("submitButton").style.display = "none";

            } else {
                document.getElementById("submitButton").style.display = "block";
                document.getElementById("errorMsg").innerHTML = "";

            }
        });
    }
</script>

<form action="/api/create_game/" method="post">
    {% csrf_token %}
    <div class="main-container">
        <div class="input-container">
            <div class="input-field">
                <input onfocusout="validateGameName()" type="text" id="name" name="name" autocomplete="off" required />
                <label for="name" class="label-name">Game Name :</label>
            </div>
            <div class="input-field">
                <input type="number" id="sample_size" min="1" name="sample_size" autocomplete="off" required />
                <label for="sample_size">Sample Size :</label>
            </div>
            <div class="input-field">
                <input type="number" id="pool_size" min="1" name="pool_size" autocomplete="off" required />
                <label for="pool_size">Pool Size :</label>
            </div>
            <div class="input-field">
                <input type="number" id="contestants" min="1" name="contestants" autocomplete="off" required />
                <label for="contestants">Contestants :</label>
            </div>
            <button id="submitButton" type="submit" value="Submit">Create</button>
            <div class="app-text" id="errorMsg" style="font-family: 'GraphiqueW01-Regular';font-size: 3rem;"></div>
        </div>
        <div class="carousel-container">
            <div class="content-slider">
              <div class="slider">
                <div class="mask">
                  <ul>
                    <li class="anim1">
                      <div class="quote">The greatest glory in living lies not in never falling, but in rising every time we fall.</div>
                      <div class="source">- Nelson Mandela</div>
                    </li>
                    <li class="anim2">
                      <div class="quote">If life were predictable it would cease to be life, and be without flavor.</div>
                      <div class="source">- Eleanor Roosevelt</div>
                    </li>
                    <li class="anim3">
                      <div class="quote">Imagination is more important than knowledge.</div>
                      <div class="source">- Albert Einstein</div>
                    </li>
                    <li class="anim4">
                      <div class="quote">We are what we repeatedly do. Excellence, then, is not an act, but a habit.</div>
                      <div class="source">- Aristotle</div>
                    </li>
                    <li class="anim5">
                      <div class="quote">What lies behind you and what lies in front of you, pales in comparison to what lies inside of you.</div>
                      <div class="source">- Ralph Waldo Emerson</div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
        </div>
    </div>
</form>

{% endblock %}